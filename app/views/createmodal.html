<div class="modal-body">
    <div class="modal-form">
        <form class="form-inline" name="createForm" novalidate>
            <fieldset ng-disabled="saving">
                <div class="row-fluid">
                    <div class="btn-group form-group col-md-5" style="" dropdown is-open="status.isopen" ng-if="!newPlayDate.platform">
                        <a class="btn btn-primary col-md-12" dropdown-toggle ng-disabled="disabled">
                        <span translate="CREATEMODAL.SELECT_PLATFORM"></span> <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu" style="margin-left: 15px">
                            <li ng-repeat="platform in platforms">
                                <a href ng-click="newPlayDate.platform=platform.apiName">{{platform.name}}</a>
                            </li>
                        </ul>
                    </div>
                    <div class="form-group col-md-5" ng-if="newPlayDate.platform" ng-class="{'has-error': createForm.game.$invalid&&createForm.game.$touched, 'has-success' : createForm.game.$valid}">
                        <div class="input-group col-md-12">
                          <input
                            name="game"
                            type="text"
                            ng-model="newPlayDate.game"
                            ng-model-options="{ updateOn: 'default keyup blur' }"
                            typeahead="game as game.label for game in getGame($viewValue, newPlayDate.platform)"
                            typeahead-editable="'false'"
                            game-validator
                            class="form-control"
                            placeholder="{{ 'CREATEMODAL.FILTER_GAME' | translate:{platform: getPlatformPrettyName(newPlayDate.platform)} }}">
                            <span class="input-group-addon">
                                <span class="fa fa-gamepad"></span>
                            </span>
                        </div>
                    </div>
                    <div class="form-group col-md-5" ng-class="{'has-error': createForm.geoRegion.$invalid&&createForm.geoRegion.$touched, 'has-success' : createForm.geoRegion.$valid}">
                        <div class="input-group col-md-12">
                          <input
                            name="geoRegion"
                            type="text"
                            ng-model="newPlayDate.geoRegion"
                            ng-model-options="{ updateOn: 'default keyup blur' }"
                            typeahead="region as region.label for region in getRegion($viewValue)"
                            typeahead-editable="'false'"
                            region-validator
                            class="form-control"
                            placeholder="{{ 'CREATEMODAL.TIMEZONE' | translate }}">
                            <span class="input-group-addon">
                                <span class="fa fa-globe"></span>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="row-fluid">
                    <div class="form-group col-md-5" ng-class="{'has-error': createForm.name.$invalid&&createForm.name.$touched, 'has-success' : createForm.name.$valid}">
                        <div class="input-group col-md-12">
                          <input
                            required
                            type="text"
                            class="form-control"
                            ng-model="newPlayDate.name"
                            name="name"
                            placeholder="{{ 'CREATEMODAL.NAME' | translate }}">
                            <span class="input-group-addon">
                                <span class="fa fa-user"></span>
                            </span>
                        </div>
                    </div>
                    <div class="form-group col-md-5" ng-class="{'has-error': createForm.email.$invalid&&createForm.email.$touched, 'has-success' : createForm.email.$valid}">
                        <div class="input-group col-md-12">
                          <input
                            required
                            type="email"
                            class="form-control"
                            ng-model="newPlayDate.email"
                            ng-pattern="/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/"
                            name="email"
                            placeholder="{{ 'CREATEMODAL.EMAIL' | translate }}">
                            <span class="input-group-addon">
                                <span class="fa fa-at"></span>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="row-fluid">
                    <div class="form-group col-md-5" ng-class="{'has-error': createForm.language.$invalid&&createForm.language.$touched, 'has-success' : createForm.language.$valid}">
                        <div class="input-group col-md-12">
                          <input
                            name="language"
                            type="text"
                            ng-model="newPlayDate.preferences.language"
                            ng-model-options="{ updateOn: 'default keyup blur' }"
                            typeahead="language as language.label for language in getLanguage($viewValue)"
                            typeahead-editable="'false'"
                            game-validator
                            class="form-control"
                            placeholder="{{ 'CREATEMODAL.LANGUAGE' | translate }}">
                            <span class="input-group-addon">
                                <span class="fa fa-language"></span>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="row-fluid">
                    <div class="col-md-5 col-md-offset-1 col-xs-offset-1 form-group">
                        <div class="row">
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" ng-model="newPlayDate.preferences.microphone"> <i class="fa fa-microphone"></i> <span translate="CREATEMODAL.MIC"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-xs-offset-1 form-group">
                        <div class="row">
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" ng-model="newPlayDate.preferences.group"> <i class="fa fa-group"></i> <span translate="CREATEMODAL.GROUP"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row-fluid">
                    <div class="form-group col-md-12"
                        ng-class="{'has-error': createForm.additional.$invalid&&createForm.additional.$touched, 'has-success' : createForm.additional.$valid}">
                        <div class="input-group col-md-12">
                            <textarea
                                required
                                class="form-control"
                                placeholder="{{ 'CREATEMODAL.INFO' | translate }}"
                                ng-model="newPlayDate.description"
                                name="additional"
                                cols="80"
                                rows="4">
                            </textarea>
                            <span class="input-group-addon">
                                <span class="fa fa-info"></span>
                            </span>
                        </div>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>
</div>
<div class="modal-header">
    <div class="messages" ng-repeat="(attr, messages) in validateAttributes">
        <div class="message row bg-danger"   ng-repeat="(err, msgs) in messages">
            <div class="cases col-sm-10 col-sm-offset-1" ng-repeat="(errAttr, value) in createForm[err].$error" ng-show="value&&createForm[err].$touched">
                {{msgs[errAttr]}}
            </div>
        </div>
    </div>
    <div class="row bg-info clickable" ng-if="searchQuery">
        <div class="col-sm-10 col-sm-offset-1" ng-click="goToSearch()">
            There are PlayDates that match your game and timezone. Click here if you want to show them instead of adding a new Playdate.
        </div>
    </div>
</div>
<div class="modal-footer">
    <button class="btn btn-primary" ng-disabled="createForm.$pristine || saving" ng-click="save()">{{'CREATEMODAL.SAVE' | translate}} <span class="fa fa-save"></span></button>
    <button class="btn btn-warning" ng-click="cancel()">{{'CREATEMODAL.CANCEL' | translate}} <span class="fa fa-close"></span></button>
</div>
